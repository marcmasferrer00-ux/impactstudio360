<script>
document.addEventListener('DOMContentLoaded', () => {
  const stats = document.querySelectorAll('.stats .grid div strong');

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const el = entry.target;
        const endValue = parseInt(el.textContent);
        let start = 0;
        const duration = 1800;
        const step = Math.ceil(endValue / (duration / 16));

        const counter = setInterval(() => {
          start += step;
          if (start >= endValue) {
            el.textContent = endValue + '%';
            clearInterval(counter);
          } else {
            el.textContent = start + '%';
          }
        }, 16);

        el.parentElement.classList.add('visible');
        observer.unobserve(el);
      }
    });
  }, { threshold: 0.5 });

  stats.forEach(el => observer.observe(el));
});
</script>
